<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../chart-elements/chart-elements.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <tpa-spending-categories></tpa-spending-categories>

Example:

    <tpa-spending-categories>
      <h2>Hello tpa-spending-categories</h2>
    </tpa-spending-categories>

@demo demo/index.html
@hero hero.svg
-->

<dom-module id="tpa-spending-categories">
  <template>
    <style>
      .legend li span{
        display: inline-block;
        width: 12px;
        height: 12px;
        margin-right: 5px;
      }
    </style>

    <chart-pie id="chart" data="[[data]]" options="[[options]]"></chart-pie>
    <div id="legend" class="chart-legend"></div>
  </template>

  <script>
    Polymer({
      is: 'tpa-spending-categories',
      properties: {
        data: {
          type: Object,
          value: function() {
            return {};
          }
        }
      },
      attached: function() {
        this.options = {
          animateRotate : false
        };

        this.data = [
          {
            value: 61,
            color: "#09355C",
            label: "Label 1"
          }, {
            value: 11,
            color: "#CBCBCB",
            label: "Label 2"
       }, {
value: 28,
color: "#B61B12",
label: "Label 3"
}];

this.options = {
segmentShowStroke: false,
animateRotate: false,
animateScale: false,
tooltipTemplate: "<%= value %>%"
};

this.$.legend.innerHTML =
new Chart(this.$.chart.ctx)
.Pie(this.$.chart.data, this.$.chart.option)
.generateLegend();
}
});
</script>
</dom-module>
